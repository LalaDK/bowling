<style>

td {
  background-color: white;
}

.info {
  font-weight: bold !important;
}

thead > tr > td {
  font-weight: bold !important;
}
</style>

<div class="col-lg-4">
  <h3><img src="http://pngimg.com/uploads/bowling/bowling_PNG52.png" width="50"> <b><i>Lanes & Lounges</i></b></h3>
  <div class="form-horizontal">
    <form method="post" action="/" id="search_form">
      <input name="authenticity_token" value="<%= form_authenticity_token %>" type="hidden">
      <div class="form-group">
        <label class="control-label col-xs-5 col-lg-3" for="date">Dato</label>
        <div class="col-xs-7 col-lg-9">
          <div id="datepicker" class="input-group date" data-date-format="dd-mm-yyyy">
            <input class="form-control" type="text" name="date" value="<%= @date %>" />
            <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
          </div>
        </div>
      </div>
      <div class="form-group">
        <label class="control-label col-xs-5 col-lg-3" for="time">Tidspunkt</label>
        <div class="col-xs-7 col-lg-9">
          <select class="form-control" name="time" id="time">
            <% (10 .. 23).each do |time| %>
              <option value="<%= time %>:00" <%= @time.to_i == time.to_i ? "selected" : "" %>><%= time %>:00</option>
            <% end %>
          </select>
        </div>
      </div>
      <div class="form-group">
        <label class="control-label col-xs-5 col-lg-3" for="lanes">Antal baner</label>
        <div class="col-xs-7 col-lg-9">
          <input class="form-control" type="number" name="lanes" value="1" min="1" max="6">
        </div>
      </div>
      <button id="submit_button" class="btn btn-primary" style="width:100%;" type="button">Søg</button>
    </form>
  </div>
</div>

<div class="col-lg-12">
  <br><br>
  <% if @lanes.none?{|lane| lane.date_match} %>
  <div class="alert alert-danger" role="alert">
    <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
    Søgningen gav intet resultat.
  </div>
  <% end %>
  <div class=".table-responsive">
    <table class="table table-bordered">
      <thead>
        <tr>
          <td>Produktnavn</td>
          <td>Tidspunkt</td>
          <td>Dato</td>
          <td>Antal baner</td>
          <td>Udsolgt</td>
          <td>Senest opdateret</td>
        </tr>
      </thead>
      <tbody>
        <% @lanes.each do |lane| %>
        <tr class="<%= lane.date_match ? "info " : '' %>">
          <td><%= lane.product_name %></td>
          <td><%= lane.time_range %></td>
          <td><%= DateTime.strptime(lane.date, "%Y-%m-%d %H:%M:%S").strftime("%d-%m-%Y %H:%M") %></td>
          <td><%= lane.lanes %></td>
          <td class="<%= !lane.sold_out.blank? ? "danger" : '' %>"><%= lane.sold_out %></td>
          <td><%= DateTime.strptime(lane.last_updated, "%Y-%m-%d %H:%M:%S").strftime("%d-%m-%Y %H:%M") %></td>
        </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
